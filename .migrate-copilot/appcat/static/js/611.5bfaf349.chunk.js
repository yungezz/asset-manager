"use strict";(self.webpackChunkwindup_ui=self.webpackChunkwindup_ui||[]).push([[611],{40611:(e,n,i)=>{i.r(n),i.d(n,{default:()=>M});var s=i(47313),l=i(97890),a=i(96093),r=i(42747),t=i(82685),o=i(76934),c=i(90555),d=i(22420),h=i(80752),p=i(36898),u=i(14303),x=i(89213),m=i(29964),j=i(98699),g=i(71602),f=i(54904),v=i(53840),b=i(67526),C=i(86025),I=i(53566),N=i(56954),y=i(46417);const k="DataKey",w=[{title:"Name",transforms:[(0,g.d)(100),f.p],cellTransforms:[v.$G]}],P=e=>{let{applicationId:n}=e;const[i,l]=(0,s.useState)(""),a=(0,b.W)(),g=(0,C.v)(),f=(0,s.useMemo)((()=>{var e,i;return(null===(e=g.data)||void 0===e||null===(i=e.find((e=>e.applicationId===n)))||void 0===i?void 0:i.jbpms)||[]}),[g.data,n]),v=(0,N.dd)(),P=(0,s.useMemo)((()=>{var e;return null===(e=a.data)||void 0===e?void 0:e.find((e=>e.id===v.data))}),[a.data,v.data]),{isItemSelected:M,toggleItemSelected:F}=(0,r.Uq)({items:f,isEqual:(e,n)=>e.fileName===n.fileName&&e.processName===n.processName}),{page:S,sortBy:T,changePage:z,changeSortBy:B}=(0,N.HL)(),{pageItems:D,filteredItems:E}=(0,N.x6)({items:f,currentPage:S,currentSortBy:T,compareToByColumn:()=>0,filterItem:e=>!0}),H=(e=>{const n=[];return e.forEach((e=>{const i=M(e);n.push({[k]:e,isOpen:i,cells:[{title:e.fileId?(0,y.jsx)(t.zx,{variant:t.Wu.link,isInline:!0,onClick:()=>v.open("showFile",e.fileId),children:e.fileName}):e.fileName},{title:e.processName}]}),i&&n.push({parent:n.length-1,fullWidth:!0,cells:[{title:(0,y.jsx)("div",{className:"pf-u-m-md",children:(0,y.jsxs)(o.o,{isHorizontal:!0,children:[(0,y.jsxs)(c.g,{children:[(0,y.jsx)(d.M,{children:"Nodes"}),(0,y.jsx)(h.b,{children:e.processNoteCount})]}),(0,y.jsxs)(c.g,{children:[(0,y.jsx)(d.M,{children:"Decisions"}),(0,y.jsx)(h.b,{children:e.processDecisionCount})]}),(0,y.jsxs)(c.g,{children:[(0,y.jsx)(d.M,{children:"States"}),(0,y.jsx)(h.b,{children:e.processStateCount})]}),(0,y.jsxs)(c.g,{children:[(0,y.jsx)(d.M,{children:"Tasks"}),(0,y.jsx)(h.b,{children:e.processTaskCount})]}),(0,y.jsxs)(c.g,{children:[(0,y.jsx)(d.M,{children:"Sub processes"}),(0,y.jsx)(h.b,{children:e.processSubProcessCount})]}),(0,y.jsxs)(c.g,{children:[(0,y.jsx)(d.M,{children:"Action handlers"}),(0,y.jsx)(h.b,{children:(0,y.jsx)(p.aV,{component:p.ns.ol,type:p.mr.number,children:e.actionHandlers.map(((e,n)=>(0,y.jsx)(u.H,{children:e.fileId?(0,y.jsx)(t.zx,{variant:t.Wu.link,isInline:!0,onClick:()=>v.open("showFile",e.fileId),children:e.fileName}):e.fileName},n)))})})]}),(0,y.jsxs)(c.g,{children:[(0,y.jsx)(d.M,{children:"Decision handlers"}),(0,y.jsx)(h.b,{children:(0,y.jsx)(p.aV,{component:p.ns.ol,type:p.mr.number,children:e.decisionHandlers.map(((e,n)=>(0,y.jsx)(u.H,{children:e.fileId?(0,y.jsx)(t.zx,{variant:t.Wu.link,isInline:!0,onClick:()=>v.open("showFile",e.fileId),children:e.fileName}):e.fileName},n)))})})]})]})})}]})})),n})(D);return(0,s.useEffect)((()=>{z({page:1,perPage:S.perPage})}),[n,z,S.perPage]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(I.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:E.length,onCollapse:(e,n,i,s)=>{const l=(e=>e.DataKey)(s);F(l)},sortBy:T||{index:void 0,defaultDirection:"asc"},onSort:B,currentPage:S,onPageChange:z,rows:H,cells:w,actions:[],isLoading:g.isFetching,loadingVariant:"skeleton",fetchError:g.isError,filtersApplied:i.trim().length>0,toolbarToggle:(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(x.E,{variant:"search-filter",children:(0,y.jsx)(m.M,{value:i,onChange:l,onClear:()=>l("")})})})}),(0,y.jsx)(j.u,{title:"File ".concat(null===P||void 0===P?void 0:P.prettyPath),isOpen:v.isOpen&&"showFile"===v.action,onClose:v.close,variant:"default",position:"top",disableFocusTrap:!0,actions:[(0,y.jsx)(t.zx,{variant:"primary",onClick:v.close,children:"Close"},"close")],children:P&&(0,y.jsx)(I.Mm,{file:P})})]})},M=()=>{const e=(0,l.bx)();return(0,y.jsx)(a.NP,{children:(0,y.jsx)(P,{applicationId:null===e||void 0===e?void 0:e.id})})}},86025:(e,n,i)=>{i.d(n,{v:()=>r});var s=i(31881),l=i.n(s),a=i(44888);const r=()=>(0,a.z)({queryKey:["jbpm"],queryFn:async()=>(await l().get("/jbpm")).data},undefined,window.jbpm)}}]);