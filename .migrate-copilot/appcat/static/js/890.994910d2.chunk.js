"use strict";(self.webpackChunkwindup_ui=self.webpackChunkwindup_ui||[]).push([[890],{11890:(e,t,i)=>{i.r(t),i.d(t,{default:()=>k});var n=i(47313),a=i(97890),s=i(96093),r=i(60902),l=i(54890),o=i(16903),c=i(25119),d=i(93443),h=i(44908),u=i(82685),p=i(98699),m=i(67526),f=i(53566),g=i(56954),v=i(46417);const x=[{title:"Entity",transforms:[],cellTransforms:[]},{title:"Table",transforms:[],cellTransforms:[]}],j=e=>{let{applicationId:t}=e;const[i]=(0,n.useState)(""),a=(0,m.W)(),s=(0,h.f)(),r=(0,n.useMemo)((()=>{var e,i;return(null===(e=s.data)||void 0===e||null===(i=e.find((e=>e.applicationId===t)))||void 0===i?void 0:i.entities)||[]}),[s.data,t]),l=(0,g.dd)(),o=(0,n.useMemo)((()=>{var e;return null===(e=a.data)||void 0===e?void 0:e.find((e=>e.id===l.data))}),[a.data,l.data]),{page:c,sortBy:d,changePage:j,changeSortBy:y}=(0,g.HL)(),{pageItems:I,filteredItems:T}=(0,g.x6)({items:r,currentPage:c,currentSortBy:d,compareToByColumn:()=>0,filterItem:()=>!0}),C=(e=>{const t=[];return e.forEach((e=>{t.push({DataKey:e,cells:[{title:e.classFileId?(0,v.jsx)(u.zx,{variant:u.Wu.link,isInline:!0,onClick:()=>l.open("showFile",e.classFileId),children:e.className}):e.className},{title:e.tableName}]})})),t})(I);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:T.length,sortBy:d||{index:void 0,defaultDirection:"asc"},onSort:y,currentPage:c,onPageChange:j,rows:C,cells:x,actions:[],isLoading:s.isFetching,loadingVariant:"skeleton",fetchError:s.isError,filtersApplied:i.trim().length>0}),(0,v.jsx)(p.u,{title:"File ".concat(null===o||void 0===o?void 0:o.prettyPath),isOpen:l.isOpen&&"showFile"===l.action,onClose:l.close,variant:"default",position:"top",disableFocusTrap:!0,actions:[(0,v.jsx)(u.zx,{variant:"primary",onClick:l.close,children:"Close"},"close")],children:o&&(0,v.jsx)(f.Mm,{file:o})})]})};var y=i(42747),I=i(39275),T=i(30605),C=i(42912),P=i(69366),b=i(88991),S=i(60171),B=i(7872);const F="DataKey",w=[{title:"Session factory",transforms:[],cellTransforms:[]}],E=e=>{let{applicationId:t}=e;const[i]=(0,n.useState)(""),a=(0,h.f)(),s=(0,n.useMemo)((()=>{var e,i;return(null===(e=a.data)||void 0===e||null===(i=e.find((e=>e.applicationId===t)))||void 0===i?void 0:i.hibernateConfigurations.flatMap((e=>e.sessionFactories.map((t=>({path:e.path,properties:t.properties}))))))||[]}),[a.data,t]),{isItemSelected:r,toggleItemSelected:l}=(0,y.Uq)({items:s,isEqual:(e,t)=>e.path===t.path}),{page:o,sortBy:c,changePage:d,changeSortBy:u}=(0,g.HL)(),{pageItems:p,filteredItems:m}=(0,g.x6)({items:s,currentPage:o,currentSortBy:c,compareToByColumn:()=>0,filterItem:()=>!0}),x=(e=>{const t=[];return e.forEach((e=>{const i=r(e);t.push({[F]:e,isOpen:i,cells:[{title:e.path}]}),i&&t.push({parent:t.length-1,fullWidth:!0,cells:[{title:(0,v.jsx)("div",{className:"pf-u-m-md",children:(0,v.jsxs)(I.X,{variant:"compact",children:[(0,v.jsx)(T.Y,{children:"Session factory properties"}),(0,v.jsx)(C.h,{children:(0,v.jsxs)(P.Tr,{children:[(0,v.jsx)(b.Th,{children:"Key"}),(0,v.jsx)(b.Th,{children:"Value"})]})}),(0,v.jsx)(S.p,{children:Object.entries(e.properties).map((e=>{let[t,i]=e;return(0,v.jsxs)(P.Tr,{children:[(0,v.jsx)(B.Td,{children:t}),(0,v.jsx)(B.Td,{children:i})]},t)}))})]})})}]})})),t})(p);return(0,v.jsx)(f.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:m.length,onCollapse:(e,t,i,n)=>{const a=(e=>e.DataKey)(n);l(a)},sortBy:c||{index:void 0,defaultDirection:"asc"},onSort:u,currentPage:o,onPageChange:d,rows:x,cells:w,actions:[],isLoading:a.isFetching,loadingVariant:"skeleton",fetchError:a.isError,filtersApplied:i.trim().length>0})},k=()=>{const e=(0,a.bx)(),t=(0,h.f)(),i=(0,n.useMemo)((()=>{var i;return null===(i=t.data)||void 0===i?void 0:i.find((t=>t.applicationId===(null===e||void 0===e?void 0:e.id)))}),[t.data,e]);return(0,v.jsx)(s.NP,{children:(0,v.jsx)(r.Z,{children:(0,v.jsx)(l.e,{children:(0,v.jsxs)(o.m,{defaultActiveKey:0,children:[(0,v.jsx)(c.O,{eventKey:0,title:(0,v.jsxs)(d.T,{children:["Session factory (",null===i||void 0===i?void 0:i.hibernateConfigurations.flatMap((e=>e.sessionFactories)).length,")"]}),children:e&&(0,v.jsx)(E,{applicationId:null===e||void 0===e?void 0:e.id})}),(0,v.jsx)(c.O,{eventKey:1,title:(0,v.jsxs)(d.T,{children:["Entities (",null===i||void 0===i?void 0:i.entities.length,")"]}),children:e&&(0,v.jsx)(j,{applicationId:null===e||void 0===e?void 0:e.id})})]})})})})}},44908:(e,t,i)=>{i.d(t,{f:()=>r});var n=i(31881),a=i.n(n),s=i(44888);const r=()=>(0,s.z)({queryKey:["hibernate"],queryFn:async()=>(await a().get("/hibernate")).data},undefined,window.hibernate)},30605:(e,t,i)=>{i.d(t,{Y:()=>s});var n=i(66797),a=i(47313);const s=e=>{var{children:t,className:i}=e,s=(0,n._T)(e,["children","className"]);return a.createElement("caption",Object.assign({className:i},s),t)};s.displayName="Caption"}}]);