"use strict";(self.webpackChunkwindup_ui=self.webpackChunkwindup_ui||[]).push([[957],{81957:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var i=a(47313),l=a(97890),n=a(42747),s=a(82685),r=a(96093),o=a(98699),d=a(67526),c=a(80500),u=a(53566),f=a(56954),p=a(46417);const h="DataKey",m=[{title:"Artifact",transforms:[],cellTransforms:[]},{title:"File",transforms:[],cellTransforms:[]},{title:"Path",transforms:[],cellTransforms:[]}],g=()=>{const e=(0,l.bx)(),[t]=(0,i.useState)(""),a=(0,d.W)(),g=(0,c.M)(),v=(0,i.useMemo)((()=>{var t,a;return(null===(t=g.data)||void 0===t||null===(a=t.find((t=>t.applicationId===(null===e||void 0===e?void 0:e.id))))||void 0===a?void 0:a.subProjects.flatMap((e=>e.unparsableFiles.map((t=>({artifactName:e.path,filePath:t.filePath,fileName:t.fileName,fileId:t.fileId,description:t.parseError}))))))||[]}),[g.data,e]),P=(0,f.dd)(),y=(0,i.useMemo)((()=>{var e;return null===(e=a.data)||void 0===e?void 0:e.find((e=>e.id===P.data))}),[a.data,P.data]),{isItemSelected:x,toggleItemSelected:I}=(0,n.Uq)({items:v,isEqual:(e,t)=>e.filePath===t.filePath}),{page:w,sortBy:C,changePage:b,changeSortBy:j}=(0,f.HL)(),{pageItems:k,filteredItems:F}=(0,f.x6)({items:v,currentPage:w,currentSortBy:C,compareToByColumn:()=>0,filterItem:()=>!0}),N=(e=>{const t=[];return e.forEach((e=>{const a=x(e);t.push({[h]:e,isOpen:a,cells:[{title:e.artifactName},{title:e.fileId?(0,p.jsx)(s.zx,{variant:s.Wu.link,isInline:!0,onClick:()=>P.open("showFile",e.fileId),children:e.fileName}):e.fileName},{title:e.filePath}]}),a&&t.push({parent:t.length-1,fullWidth:!0,cells:[{title:(0,p.jsx)("div",{className:"pf-u-m-md",children:e.description})}]})})),t})(k);return(0,p.jsxs)(r.NP,{children:[(0,p.jsx)(u.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:F.length,onCollapse:(e,t,a,i)=>{const l=(e=>e.DataKey)(i);I(l)},sortBy:C||{index:void 0,defaultDirection:"asc"},onSort:j,currentPage:w,onPageChange:b,rows:N,cells:m,actions:[],isLoading:g.isFetching,loadingVariant:"skeleton",fetchError:g.isError,filtersApplied:t.trim().length>0}),(0,p.jsx)(o.u,{title:"File ".concat(null===y||void 0===y?void 0:y.prettyPath),isOpen:P.isOpen&&"showFile"===P.action,onClose:P.close,variant:"default",position:"top",disableFocusTrap:!0,actions:[(0,p.jsx)(s.zx,{variant:"primary",onClick:P.close,children:"Close"},"close")],children:y&&(0,p.jsx)(u.Mm,{file:y})})]})}},80500:(e,t,a)=>{a.d(t,{M:()=>s});var i=a(31881),l=a.n(i),n=a(44888);const s=()=>(0,n.z)({queryKey:["unparsable-files"],queryFn:async()=>(await l().get("/unparsable-files")).data},undefined,window["unparsable-files"])}}]);