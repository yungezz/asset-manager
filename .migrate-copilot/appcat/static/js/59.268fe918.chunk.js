"use strict";(self.webpackChunkwindup_ui=self.webpackChunkwindup_ui||[]).push([[59],{47059:(e,t,s)=>{s.r(t),s.d(t,{default:()=>M});var l=s(47313),a=s(42747),r=s(76934),i=s(90555),o=s(22420),n=s(80752),d=s(96093),u=s(20711),c=s(49284),h=s(89213),p=s(29964),g=s(75071),m=s(53426),x=s(32837),v=s(98699),y=s(79306),f=s(53566),C=s(56954),j=s(46417);const k=e=>{if("string"===typeof e){const t=()=>e;return{value:e,toString:t,compareTo:s=>"string"===typeof s?t().toLowerCase().includes(s.toLocaleLowerCase()):e===s.value}}{const t=()=>e.node;return{value:e.key,toString:t,compareTo:s=>"string"===typeof s?t().toLowerCase().includes(s.toLowerCase()):e.key===s.value}}},b=e=>({key:e.value,node:e.toString()}),S=[{key:"true",node:"Condition met"},{key:"false",node:"Condition not met"}],w=[{key:"true",node:"Success"},{key:"false",node:"Failed"}],T="DataKey",F=[{title:"Phase",transforms:[]},{title:"Ruleset",transforms:[]},{title:"ID",transforms:[]},{title:"Status",transforms:[]},{title:"Result",transforms:[],cellTransforms:[]}],I=e=>e.DataKey,M=()=>{var e,t,s,M,R;const P=(0,y.q)(),[E,L]=(0,l.useState)(""),{filters:G,setFilter:A,removeFilter:D,clearAllFilters:N}=(0,C.Sm)(),B=(0,l.useMemo)((()=>{var e;const t=new Set;return null===(e=P.data)||void 0===e||e.forEach((e=>t.add(e.phase))),Array.from(t).sort(((e,t)=>e.localeCompare(t)))}),[P.data]),H=(0,l.useMemo)((()=>{var e;const t=new Set;return null===(e=P.data)||void 0===e||e.forEach((e=>t.add(e.ruleSetId))),Array.from(t).sort(((e,t)=>e.localeCompare(t)))}),[P.data]),U=(0,C.dd)(),{isItemSelected:O,toggleItemSelected:V}=(0,a.Uq)({items:P.data||[],isEqual:(e,t)=>"".concat(e.phase,"-").concat(e.id)==="".concat(t.phase,"-").concat(t.id)}),{page:q,sortBy:K,changePage:W,changeSortBy:_}=(0,C.HL)(),{pageItems:z,filteredItems:J}=(0,C.x6)({items:P.data||[],currentPage:q,currentSortBy:K,compareToByColumn:()=>0,filterItem:e=>{let t=!0;E&&E.trim().length>0&&(t=-1!==e.id.toLowerCase().indexOf(E.toLowerCase()));let s=!0;const l=G.get("phase")||[];l.length>0&&(s=l.some((t=>e.phase===t.key)));let a=!0;const r=G.get("ruleset")||[];r.length>0&&(a=r.some((t=>e.ruleSetId===t.key)));let i=!0;const o=G.get("status")||[];o.length>0&&(i=o.some((t=>e.executed===("true"===t.key))));let n=!0;const d=G.get("result")||[];return d.length>0&&(n=d.some((t=>e.failed===("false"===t.key)))),t&&s&&a&&i&&n}}),Q=(e=>{const t=[];return e.forEach((e=>{const s=O(e);t.push({[T]:e,isOpen:s,cells:[{title:e.phase},{title:e.ruleSetId},{title:e.id},{title:e.executed?"Condition met":"Condition not met"},{title:e.failed?"Failed":"Success"}]}),s&&t.push({parent:t.length-1,fullWidth:!0,cells:[{title:(0,j.jsx)("div",{className:"pf-u-m-md",children:(0,j.jsxs)(r.o,{isCompact:!0,isHorizontal:!0,children:[(0,j.jsxs)(i.g,{children:[(0,j.jsx)(o.M,{children:"Vertices created"}),(0,j.jsx)(n.b,{children:e.verticesAdded})]}),(0,j.jsxs)(i.g,{children:[(0,j.jsx)(o.M,{children:"Vertices removed"}),(0,j.jsx)(n.b,{children:e.verticesRemoved})]}),(0,j.jsxs)(i.g,{children:[(0,j.jsx)(o.M,{children:"Edges created"}),(0,j.jsx)(n.b,{children:e.edgesAdded})]}),(0,j.jsxs)(i.g,{children:[(0,j.jsx)(o.M,{children:"Edges removed"}),(0,j.jsx)(n.b,{children:e.edgesRemoved})]}),(0,j.jsxs)(i.g,{children:[(0,j.jsx)(o.M,{children:"Failure cause"}),(0,j.jsx)(n.b,{children:e.failureMessage})]})]})})}]})})),t})(z),X=[{title:"View rule",onClick:(e,t,s,l)=>{const a=I(s);U.open("showRule",a)}}];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.NP,{variant:d.Dk.light,children:(0,j.jsxs)(u.D,{children:[(0,j.jsx)(c.x,{component:"h1",children:"Rule providers execution overview"}),(0,j.jsx)(c.x,{component:"small",children:"This report lists 'rule providers', or sets of Windup rules. They may originate from a '.windup.xml', a '.rhamt.xml', or a '.mta.xml' file or a Java class implementing 'RuleProvider'."})]})}),(0,j.jsx)(d.NP,{variant:d.Dk.default,children:(0,j.jsx)(f.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:J.length,onCollapse:(e,t,s,l)=>{const a=I(l);V(a)},sortBy:K||{index:void 0,defaultDirection:"asc"},onSort:_,currentPage:q,onPageChange:W,rows:Q,cells:F,actions:X,isLoading:P.isFetching,loadingVariant:"skeleton",fetchError:P.isError,toolbarClearAllFilters:N,filtersApplied:E.trim().length>0,toolbarToggle:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(h.E,{variant:"search-filter",children:(0,j.jsx)(p.M,{value:E,onChange:L,onClear:()=>L("")})}),(0,j.jsxs)(g.k,{variant:"filter-group",children:[(0,j.jsx)(m.p,{chips:G.get("phase"),deleteChip:(e,t)=>D("phase",t),deleteChipGroup:()=>A("phase",[]),categoryName:{key:"phase",name:"Phase"},children:(0,j.jsx)(f.GU,{maxHeight:300,variant:x.TM.checkbox,"aria-label":"phase","aria-labelledby":"phase",placeholderText:"Phase",value:null===(e=G.get("phase"))||void 0===e?void 0:e.map(k),options:B.map(k),onChange:e=>{const t=e;let s;s=(G.get("phase")||[]).some((e=>e.key===t.value))?(G.get("phase")||[]).filter((e=>e.key!==t.value)):[...G.get("phase")||[],b(t)],A("phase",s)},hasInlineFilter:!0,onClear:()=>A("phase",[])})}),(0,j.jsx)(m.p,{chips:G.get("ruleset"),deleteChip:(e,t)=>D("ruleset",t),deleteChipGroup:()=>A("ruleset",[]),categoryName:{key:"ruleset",name:"Ruleset"},children:(0,j.jsx)(f.GU,{maxHeight:300,variant:x.TM.checkbox,"aria-label":"ruleset","aria-labelledby":"ruleset",placeholderText:"Ruleset",value:null===(t=G.get("ruleset"))||void 0===t?void 0:t.map(k),options:H.map(k),onChange:e=>{const t=e;let s;s=(G.get("ruleset")||[]).some((e=>e.key===t.value))?(G.get("ruleset")||[]).filter((e=>e.key!==t.value)):[...G.get("ruleset")||[],b(t)],A("ruleset",s)},hasInlineFilter:!0,onClear:()=>A("ruleset",[])})})]}),(0,j.jsxs)(g.k,{variant:"filter-group",children:[(0,j.jsx)(m.p,{chips:G.get("status"),deleteChip:(e,t)=>D("status",t),deleteChipGroup:()=>A("status",[]),categoryName:{key:"status",name:"Status"},children:(0,j.jsx)(f.GU,{maxHeight:300,variant:x.TM.checkbox,"aria-label":"status","aria-labelledby":"status",placeholderText:"Status",value:null===(s=G.get("status"))||void 0===s?void 0:s.map(k),options:S.map(k),onChange:e=>{const t=e;let s;s=(G.get("status")||[]).some((e=>e.key===t.value))?(G.get("status")||[]).filter((e=>e.key!==t.value)):[...G.get("status")||[],b(t)],A("status",s)},hasInlineFilter:!0,onClear:()=>A("status",[])})}),(0,j.jsx)(m.p,{chips:G.get("result"),deleteChip:(e,t)=>D("result",t),deleteChipGroup:()=>A("result",[]),categoryName:{key:"result",name:"Result"},children:(0,j.jsx)(f.GU,{maxHeight:300,variant:x.TM.checkbox,"aria-label":"result","aria-labelledby":"result",placeholderText:"Result",value:null===(M=G.get("result"))||void 0===M?void 0:M.map(k),options:w.map(k),onChange:e=>{const t=e;let s;s=(G.get("result")||[]).some((e=>e.key===t.value))?(G.get("result")||[]).filter((e=>e.key!==t.value)):[...G.get("result")||[],b(t)],A("result",s)},hasInlineFilter:!0,onClear:()=>A("result",[])})})]})]})})}),(0,j.jsx)(v.u,{title:"Rule: ".concat(null===(R=U.data)||void 0===R?void 0:R.id),isOpen:U.isOpen&&"showRule"===U.action,onClose:U.close,variant:"large",children:U.data&&(0,j.jsx)(f.sd,{ruleId:U.data.id})})]})}}}]);