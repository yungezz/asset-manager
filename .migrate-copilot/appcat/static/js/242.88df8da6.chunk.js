"use strict";(self.webpackChunkwindup_ui=self.webpackChunkwindup_ui||[]).push([[242],{64242:(e,t,a)=>{a.r(t),a.d(t,{default:()=>M});var n=a(47313),i=a(97890),s=a(42747),o=a(66797);const l="pf-c-expandable-section",d="pf-c-expandable-section__content",c="pf-c-expandable-section__toggle",r="pf-c-expandable-section__toggle-icon",p="pf-c-expandable-section__toggle-text",u={expanded:"pf-m-expanded",detached:"pf-m-detached",truncate:"pf-m-truncate",limitWidth:"pf-m-limit-width",displayLg:"pf-m-display-lg",indented:"pf-m-indented",active:"pf-m-active",expandTop:"pf-m-expand-top",overpassFont:"pf-m-overpass-font"};var m=a(99033);const g={name:"--pf-c-expandable-section--m-truncate__content--LineClamp",value:"3",var:"var(--pf-c-expandable-section--m-truncate__content--LineClamp)"};var h,x=a(16043);!function(e){e.default="default",e.truncate="truncate"}(h||(h={}));const f=(e,t)=>{!t||e<1||t.style.setProperty(g.name,e.toString())};class v extends n.Component{constructor(e){super(e),this.expandableContentRef=n.createRef(),this.state={isExpanded:e.isExpanded}}calculateToggleText(e,t,a,n){return n&&""!==t?t:n||""===a?e:a}componentDidMount(){if(this.props.variant===h.truncate&&this.props.truncateMaxLines){const e=this.expandableContentRef.current;f(this.props.truncateMaxLines,e)}}componentDidUpdate(e){if(this.props.variant===h.truncate&&e.truncateMaxLines!==this.props.truncateMaxLines){const e=this.expandableContentRef.current;f(this.props.truncateMaxLines,e)}}render(){const e=this.props,{onToggle:t,isActive:a,className:i,toggleText:s,toggleTextExpanded:g,toggleTextCollapsed:f,toggleContent:v,children:T,isExpanded:y,isDetached:C,displaySize:E,isWidthLimited:b,isIndented:N,contentId:I,variant:L,truncateMaxLines:_}=e,j=(0,o._T)(e,["onToggle","isActive","className","toggleText","toggleTextExpanded","toggleTextCollapsed","toggleContent","children","isExpanded","isDetached","displaySize","isWidthLimited","isIndented","contentId","variant","truncateMaxLines"]);let F=t,P=y;void 0===y&&(P=this.state.isExpanded,F=e=>{this.setState({isExpanded:e},(()=>t(this.state.isExpanded)))});const S=this.calculateToggleText(s,g,f,P),w=!C&&n.createElement("button",{className:(0,m.i)(c),type:"button","aria-expanded":P,onClick:()=>F(!P)},L!==h.truncate&&n.createElement("span",{className:(0,m.i)(r)},n.createElement(x.ZP,{"aria-hidden":!0})),n.createElement("span",{className:(0,m.i)(p)},v||S));return n.createElement("div",Object.assign({className:(0,m.i)(l,P&&u.expanded,a&&u.active,C&&u.detached,"large"===E&&u.displayLg,b&&u.limitWidth,N&&u.indented,L===h.truncate&&u.truncate,i)},j),L===h.default&&w,n.createElement("div",{ref:this.expandableContentRef,className:(0,m.i)(d),hidden:L!==h.truncate&&!P,id:I},T),L===h.truncate&&w)}}v.displayName="ExpandableSection",v.defaultProps={className:"",toggleText:"",toggleTextExpanded:"",toggleTextCollapsed:"",onToggle:e=>{},isActive:!1,isDetached:!1,displaySize:"default",isWidthLimited:!1,isIndented:!1,contentId:"",variant:"default"};var T=a(82685),y=a(96093),C=a(98699),E=a(39275),b=a(60171),N=a(69366),I=a(7872),L=a(67526),_=a(73958),j=a(53566),F=a(56954),P=a(46417);const S="DataKey",w=[{title:"Entry class",transforms:[],cellTransforms:[]},{title:"Entry method",transforms:[],cellTransforms:[]}],M=()=>{var e;const t=(0,i.bx)(),[a]=(0,n.useState)(""),o=(0,L.W)(),l=(0,_.s)(),d=(0,n.useMemo)((()=>{var e,a;return(null===(e=l.data)||void 0===e||null===(a=e.find((e=>e.applicationId===(null===t||void 0===t?void 0:t.id))))||void 0===a?void 0:a.transactions)||[]}),[l.data,t]),c=(0,F.dd)(),r=(0,n.useMemo)((()=>{var e;return null===(e=o.data)||void 0===e?void 0:e.find((e=>{var t;return e.id===(null===(t=c.data)||void 0===t?void 0:t.fileId)}))}),[o.data,c.data]),{isItemSelected:p,toggleItemSelected:u}=(0,s.Uq)({items:d,isEqual:(e,t)=>"".concat(e.className,".").concat(e.methodName)==="".concat(t.className,".").concat(t.methodName)}),{page:m,sortBy:g,changePage:h,changeSortBy:x}=(0,F.HL)(),{pageItems:f,filteredItems:M}=(0,F.x6)({items:d,currentPage:m,currentSortBy:g,compareToByColumn:()=>0,filterItem:()=>!0}),k=(e=>{const t=[];return e.forEach((e=>{const a=p(e);t.push({[S]:e,isOpen:a,cells:[{title:e.className},{title:e.methodName}]}),a&&t.push({parent:t.length-1,noPadding:!0,cells:[{title:(0,P.jsx)(E.X,{children:(0,P.jsx)(b.p,{children:e.stackTraces.map(((t,a)=>{const n=e.className.split(".").slice(-1),i="".concat(e.className,".").concat(e.methodName,"(").concat(n,", line ").concat(t.lineNumber,")");return(0,P.jsx)(N.Tr,{style:{border:"transparent"},children:(0,P.jsx)(I.Td,{children:(0,P.jsx)(v,{isIndented:!0,toggleText:t.sql,children:e.classFileId?(0,P.jsx)(T.zx,{variant:T.Wu.link,isInline:!0,onClick:()=>c.open("showFile",{fileId:e.classFileId,lineToFocus:t.lineNumber||0}),children:i}):i})})},a)}))})})}]})})),t})(f);return(0,P.jsxs)(y.NP,{children:[(0,P.jsx)(j.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:M.length,onCollapse:(e,t,a,n)=>{const i=(e=>e.DataKey)(n);u(i)},sortBy:g||{index:void 0,defaultDirection:"asc"},onSort:x,currentPage:m,onPageChange:h,rows:k,cells:w,actions:[],isLoading:l.isFetching,loadingVariant:"skeleton",fetchError:l.isError,filtersApplied:a.trim().length>0}),(0,P.jsx)(C.u,{title:"File ".concat(null===r||void 0===r?void 0:r.prettyPath),isOpen:c.isOpen&&"showFile"===c.action,onClose:c.close,variant:"default",position:"top",disableFocusTrap:!0,actions:[(0,P.jsx)(T.zx,{variant:"primary",onClick:c.close,children:"Close"},"close")],children:r&&(0,P.jsx)(j.Mm,{file:r,lineToFocus:null===(e=c.data)||void 0===e?void 0:e.lineToFocus})})]})}},73958:(e,t,a)=>{a.d(t,{s:()=>o});var n=a(31881),i=a.n(n),s=a(44888);const o=()=>(0,s.z)({queryKey:["transactions"],queryFn:async()=>(await i().get("/transactions")).data},undefined,window.transactions)}}]);