"use strict";(self.webpackChunkwindup_ui=self.webpackChunkwindup_ui||[]).push([[350],{42350:(e,t,i)=>{i.r(t),i.d(t,{default:()=>D});var n=i(47313),a=i(97890),s=i(96093),r=i(60902),l=i(54890),o=i(16903),d=i(25119),c=i(93443),u=i(7164),h=i(82685),p=i(98699),m=i(67526),g=i(53566),v=i(56954),x=i(46417);const j=[{title:"Name",transforms:[],cellTransforms:[]},{title:"Entity",transforms:[],cellTransforms:[]},{title:"Table",transforms:[],cellTransforms:[]}],f=e=>{let{applicationId:t}=e;const[i]=(0,n.useState)(""),a=(0,m.W)(),s=(0,u.O)(),r=(0,n.useMemo)((()=>{var e,i;return(null===(e=s.data)||void 0===e||null===(i=e.find((e=>e.applicationId===t)))||void 0===i?void 0:i.entities)||[]}),[s.data,t]),l=(0,v.dd)(),o=(0,n.useMemo)((()=>{var e;return null===(e=a.data)||void 0===e?void 0:e.find((e=>e.id===l.data))}),[a.data,l.data]),{page:d,sortBy:c,changePage:f,changeSortBy:y}=(0,v.HL)(),{pageItems:T,filteredItems:I}=(0,v.x6)({items:r,currentPage:d,currentSortBy:c,compareToByColumn:()=>0,filterItem:()=>!0}),P=(e=>{const t=[];return e.forEach((e=>{t.push({DataKey:e,cells:[{title:e.entityName},{title:e.classFileId?(0,x.jsx)(h.zx,{variant:h.Wu.link,isInline:!0,onClick:()=>l.open("showFile",e.classFileId),children:e.className}):e.className},{title:e.tableName}]})})),t})(T);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(g.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:I.length,sortBy:c||{index:void 0,defaultDirection:"asc"},onSort:y,currentPage:d,onPageChange:f,rows:P,cells:j,actions:[],isLoading:s.isFetching,loadingVariant:"skeleton",fetchError:s.isError,filtersApplied:i.trim().length>0}),(0,x.jsx)(p.u,{title:"File ".concat(null===o||void 0===o?void 0:o.prettyPath),isOpen:l.isOpen&&"showFile"===l.action,onClose:l.close,variant:"default",position:"top",disableFocusTrap:!0,actions:[(0,x.jsx)(h.zx,{variant:"primary",onClick:l.close,children:"Close"},"close")],children:o&&(0,x.jsx)(g.Mm,{file:o})})]})},y=[{title:"Name",transforms:[],cellTransforms:[]},{title:"Query",transforms:[],cellTransforms:[]}],T=e=>{let{applicationId:t}=e;const[i]=(0,n.useState)(""),a=(0,u.O)(),s=(0,n.useMemo)((()=>{var e,i;return(null===(e=a.data)||void 0===e||null===(i=e.find((e=>e.applicationId===t)))||void 0===i?void 0:i.namesQueries)||[]}),[a.data,t]),{page:r,sortBy:l,changePage:o,changeSortBy:d}=(0,v.HL)(),{pageItems:c,filteredItems:h}=(0,v.x6)({items:s,currentPage:r,currentSortBy:l,compareToByColumn:()=>0,filterItem:()=>!0}),p=(e=>{const t=[];return e.forEach((e=>{t.push({DataKey:e,cells:[{title:e.queryName},{title:e.query}]})})),t})(c);return(0,x.jsx)(g.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:h.length,sortBy:l||{index:void 0,defaultDirection:"asc"},onSort:d,currentPage:r,onPageChange:o,rows:p,cells:y,actions:[],isLoading:a.isFetching,loadingVariant:"skeleton",fetchError:a.isError,filtersApplied:i.trim().length>0})};var I=i(42747),P=i(74871),C=i(41094),B=i(39275),N=i(30605),S=i(42912),E=i(69366),O=i(88991),w=i(60171),F=i(7872);const K="DataKey",k=[{title:"Name",transforms:[],cellTransforms:[]},{title:"JPA Configuration",transforms:[],cellTransforms:[]},{title:"JPA Version",transforms:[],cellTransforms:[]}],b=e=>{let{applicationId:t}=e;const[i]=(0,n.useState)(""),a=(0,u.O)(),s=(0,n.useMemo)((()=>{var e,i;return(null===(e=a.data)||void 0===e||null===(i=e.find((e=>e.applicationId===t)))||void 0===i?void 0:i.jpaConfigurations.flatMap((e=>e.persistentUnits.map((t=>({path:e.path,version:e.version,name:t.name,properties:t.properties,datasources:t.datasources}))))))||[]}),[a.data,t]),{isItemSelected:r,toggleItemSelected:l}=(0,I.Uq)({items:s,isEqual:(e,t)=>e.name===t.name}),{page:o,sortBy:d,changePage:c,changeSortBy:h}=(0,v.HL)(),{pageItems:p,filteredItems:m}=(0,v.x6)({items:s,currentPage:o,currentSortBy:d,compareToByColumn:()=>0,filterItem:()=>!0}),j=(e=>{const t=[];return e.forEach((e=>{const i=r(e);t.push({[K]:e,isOpen:i,cells:[{title:e.name},{title:e.path},{title:e.version}]}),i&&t.push({parent:t.length-1,fullWidth:!0,cells:[{title:(0,x.jsx)("div",{className:"pf-u-m-md",children:(0,x.jsxs)(P.K,{hasGutter:!0,children:[(0,x.jsx)(C.v,{children:(0,x.jsxs)(B.X,{variant:"compact",children:[(0,x.jsx)(N.Y,{children:"Persistence unit properties"}),(0,x.jsx)(S.h,{children:(0,x.jsxs)(E.Tr,{children:[(0,x.jsx)(O.Th,{children:"Key"}),(0,x.jsx)(O.Th,{children:"Value"})]})}),(0,x.jsx)(w.p,{children:Object.entries(e.properties).map((e=>{let[t,i]=e;return(0,x.jsxs)(E.Tr,{children:[(0,x.jsx)(F.Td,{children:t}),(0,x.jsx)(F.Td,{children:i})]},t)}))})]})}),(0,x.jsx)(C.v,{children:(0,x.jsxs)(B.X,{variant:"compact",children:[(0,x.jsx)(N.Y,{children:"Datasources"}),(0,x.jsx)(S.h,{children:(0,x.jsxs)(E.Tr,{children:[(0,x.jsx)(O.Th,{children:"JNDI locations"}),(0,x.jsx)(O.Th,{children:"Type"}),(0,x.jsx)(O.Th,{children:"JTA"})]})}),(0,x.jsx)(w.p,{children:e.datasources.map(((e,t)=>(0,x.jsxs)(E.Tr,{children:[(0,x.jsx)(F.Td,{children:e.jndiLocation}),(0,x.jsx)(F.Td,{children:e.databaseTypeName}),(0,x.jsx)(F.Td,{children:e.isXA})]},t)))})]})})]})})}]})})),t})(p);return(0,x.jsx)(g.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:m.length,onCollapse:(e,t,i,n)=>{const a=(e=>e.DataKey)(n);l(a)},sortBy:d||{index:void 0,defaultDirection:"asc"},onSort:h,currentPage:o,onPageChange:c,rows:j,cells:k,actions:[],isLoading:a.isFetching,loadingVariant:"skeleton",fetchError:a.isError,filtersApplied:i.trim().length>0})},D=()=>{const e=(0,a.bx)(),t=(0,u.O)(),i=(0,n.useMemo)((()=>{var i;return null===(i=t.data)||void 0===i?void 0:i.find((t=>t.applicationId===(null===e||void 0===e?void 0:e.id)))}),[t.data,e]);return(0,x.jsx)(s.NP,{children:(0,x.jsx)(r.Z,{children:(0,x.jsx)(l.e,{children:(0,x.jsxs)(o.m,{defaultActiveKey:0,children:[(0,x.jsx)(d.O,{eventKey:0,title:(0,x.jsxs)(c.T,{children:["Persistence units (",null===i||void 0===i?void 0:i.jpaConfigurations.flatMap((e=>e.persistentUnits)).length,")"]}),children:e&&(0,x.jsx)(b,{applicationId:null===e||void 0===e?void 0:e.id})}),(0,x.jsx)(d.O,{eventKey:1,title:(0,x.jsxs)(c.T,{children:["Entities (",null===i||void 0===i?void 0:i.entities.length,")"]}),children:e&&(0,x.jsx)(f,{applicationId:null===e||void 0===e?void 0:e.id})}),(0,x.jsx)(d.O,{eventKey:2,title:(0,x.jsxs)(c.T,{children:["Named queries (",null===i||void 0===i?void 0:i.namesQueries.length,")"]}),children:e&&(0,x.jsx)(T,{applicationId:null===e||void 0===e?void 0:e.id})})]})})})})}},7164:(e,t,i)=>{i.d(t,{O:()=>r});var n=i(31881),a=i.n(n),s=i(44888);const r=()=>(0,s.z)({queryKey:["jpa"],queryFn:async()=>(await a().get("/jpa")).data},undefined,window.jpa)},30605:(e,t,i)=>{i.d(t,{Y:()=>s});var n=i(66797),a=i(47313);const s=e=>{var{children:t,className:i}=e,s=(0,n._T)(e,["children","className"]);return a.createElement("caption",Object.assign({className:i},s),t)};s.displayName="Caption"}}]);