"use strict";(self.webpackChunkwindup_ui=self.webpackChunkwindup_ui||[]).push([[189],{189:(t,e,n)=>{n.r(e),n.d(e,{default:()=>H});var r=n(47313),i=n(97890),o=n(96093),s=n(74871),l=n(41094),d=n(53566),a=n(33707),c=n(13171),h=n(58297),x=n(38808),j=n(58944),u=n(93793),y=n(24777),p=n(38477),f=n(60902),g=n(95677),m=n(54890),P=n(39275),T=n(42912),I=n(69366),S=n(88991),v=n(60171),b=n(7872),w=n(79143),C=n(67482),B=n(46417);const k=w.B1.map((t=>({effort:t,totalIncidents:0,totalStoryPoints:0}))),M={IncidentsBar:{getY:t=>t.totalIncidents,getTooltip:t=>{let{datum:e}=t;return"".concat(e.y," incidents")}},StoryPointsBar:{getY:t=>t.totalStoryPoints,getTooltip:t=>{let{datum:e}=t;return"".concat(e.y," SP")}}},Y=t=>{let{application:e}=t;const n=(0,C.J)(),i=(0,r.useMemo)((()=>{var t;return null===(t=n.data)||void 0===t?void 0:t.find((t=>t.applicationId===e.id))}),[e,n.data]),o=(0,r.useMemo)((()=>((null===i||void 0===i?void 0:i.issues)||[]).filter((t=>"mandatory"===t.category)).reduce(((t,e)=>{const n=t.find((t=>t.effort===e.effort.type));let r;return r=n?[...t.filter((t=>t.effort!==e.effort.type)),{effort:e.effort.type,totalIncidents:n.totalIncidents+e.totalIncidents,totalStoryPoints:n.totalStoryPoints+e.totalStoryPoints}]:[...t,{effort:e.effort.type,totalIncidents:0,totalStoryPoints:0}],(t=>{const e=t=>{switch(t){case"Info":return 1;case"Trivial":return 2;case"Complex":return 3;case"Redesign":return 4;case"Architectural":return 5;case"Unknown":return 6;default:return 0}};return t.sort(((t,n)=>e(t.effort)-e(n.effort)))})(r)}),k)),[i]);return(0,B.jsxs)(y.r,{md:6,children:[(0,B.jsx)(p.P,{children:(0,B.jsxs)(f.Z,{isFullHeight:!0,children:[(0,B.jsx)(g.l,{children:"Mandatory incidents"}),(0,B.jsx)(m.e,{children:(0,B.jsxs)(P.X,{variant:"compact",children:[(0,B.jsx)(T.h,{children:(0,B.jsxs)(I.Tr,{children:[(0,B.jsx)(S.Th,{width:40,children:"Type"}),(0,B.jsx)(S.Th,{children:"Incidents"}),(0,B.jsx)(S.Th,{children:"Total Story Points"})]})}),(0,B.jsx)(v.p,{children:o.map((t=>(0,B.jsxs)(I.Tr,{children:[(0,B.jsx)(b.Td,{children:t.effort}),(0,B.jsx)(b.Td,{children:t.totalIncidents}),(0,B.jsx)(b.Td,{children:t.totalStoryPoints})]},t.effort)))})]})})]})}),(0,B.jsx)(p.P,{children:(0,B.jsxs)(f.Z,{isFullHeight:!0,children:[(0,B.jsx)(g.l,{children:"Mandatory incidents and Story Points"}),(0,B.jsx)(m.e,{children:(0,B.jsxs)(a.k,{themeColor:c.nz.multiOrdered,domain:o.every((t=>0===t.totalIncidents&&0===t.totalStoryPoints))?{y:[0,9]}:void 0,domainPadding:{x:35},padding:{bottom:40,top:20,left:60,right:0},height:300,width:700,children:[(0,B.jsx)(h.C,{}),(0,B.jsx)(h.C,{dependentAxis:!0,showGrid:!1}),(0,B.jsx)(x.G,{offset:10,children:Object.entries(M).map((t=>{let[e,n]=t;return(0,B.jsx)(j.B,{data:o.map((t=>({name:e,x:t.effort,y:n.getY(t),label:n.getTooltip}))),labelComponent:(0,B.jsx)(u.h,{constrainToVisibleArea:!0})},e)}))})]})})]})})]})},A=w.t5.map((t=>({category:t,totalIncidents:0,totalStoryPoints:0}))),F={IncidentsBar:{getY:t=>t.totalIncidents,getTooltip:t=>{let{datum:e}=t;return"".concat(e.y," incidents")}},StoryPointsBar:{getY:t=>t.totalStoryPoints,getTooltip:t=>{let{datum:e}=t;return"".concat(e.y," SP")}}},G=t=>{let{application:e}=t;const n=(0,C.J)(),i=(0,r.useMemo)((()=>{var t;return null===(t=n.data)||void 0===t?void 0:t.find((t=>t.applicationId===e.id))}),[e,n.data]),o=(0,r.useMemo)((()=>((null===i||void 0===i?void 0:i.issues)||[]).reduce(((t,e)=>{const n=t.find((t=>t.category===e.category));let r;return r=n?[...t.filter((t=>t.category!==e.category)),{category:e.category,totalIncidents:n.totalIncidents+e.totalIncidents,totalStoryPoints:n.totalStoryPoints+e.totalStoryPoints}]:[...t,{category:e.category,totalIncidents:0,totalStoryPoints:0}],r.sort((0,w.BM)((t=>t.category)))}),A)),[i]);return(0,B.jsxs)(y.r,{md:6,children:[(0,B.jsx)(p.P,{children:(0,B.jsxs)(f.Z,{isFullHeight:!0,children:[(0,B.jsx)(g.l,{children:"Incidents"}),(0,B.jsx)(m.e,{children:(0,B.jsxs)(P.X,{variant:"compact",children:[(0,B.jsx)(T.h,{children:(0,B.jsxs)(I.Tr,{children:[(0,B.jsx)(S.Th,{width:40,children:"Category"}),(0,B.jsx)(S.Th,{children:"Incidents"}),(0,B.jsx)(S.Th,{children:"Total Story Points"})]})}),(0,B.jsx)(v.p,{children:o.map((t=>(0,B.jsxs)(I.Tr,{children:[(0,B.jsx)(b.Td,{children:t.category}),(0,B.jsx)(b.Td,{children:t.totalIncidents}),(0,B.jsx)(b.Td,{children:t.totalStoryPoints})]},t.category)))})]})})]})}),(0,B.jsx)(p.P,{children:(0,B.jsxs)(f.Z,{isFullHeight:!0,children:[(0,B.jsx)(g.l,{children:"Incidents and Story Points"}),(0,B.jsx)(m.e,{children:(0,B.jsxs)(a.k,{themeColor:c.nz.multiOrdered,domainPadding:{x:35},padding:{bottom:40,top:20,left:60,right:0},height:300,width:700,children:[(0,B.jsx)(h.C,{}),(0,B.jsx)(h.C,{dependentAxis:!0,showGrid:!1}),(0,B.jsx)(x.G,{offset:10,children:Object.entries(F).map((t=>{let[e,n]=t;return(0,B.jsx)(j.B,{data:o.map((t=>({name:e,x:t.category,y:n.getY(t),label:n.getTooltip}))),labelComponent:(0,B.jsx)(u.h,{constrainToVisibleArea:!0})},e)}))})]})})]})})]})},H=()=>{const t=(0,i.bx)();return(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(o.NP,{children:(0,B.jsxs)(s.K,{hasGutter:!0,children:[(0,B.jsx)(l.v,{children:t&&(0,B.jsx)(G,{application:t})}),(0,B.jsx)(l.v,{children:t&&(0,B.jsx)(Y,{application:t})}),(0,B.jsx)(l.v,{children:t&&(0,B.jsx)(d.Uf,{application:t})})]})})})}}}]);