"use strict";(self.webpackChunkwindup_ui=self.webpackChunkwindup_ui||[]).push([[37],{46037:(e,t,a)=>{a.r(t),a.d(t,{default:()=>M});var n=a(47313),i=a(97890),l=a(96093),o=a(47346),s=a(48892),r=a(89213),c=a(6198),p=a(20711),d=a(49284),h=a(14762),g=a(48974),u=a(13772),x=a(19726),m=a(98235),j=a(29964),y=a(75071),f=a(53426),b=a(32837),v=a(98362),w=a(79023),C=a(54904),T=a(93760),S=a(39275),k=a(60171),P=a(69366),E=a(7872),L=a(13056),O=a(66274),D=a(53566),I=a(56954),B=a(46417);const F=e=>Object.entries(e).sort(((e,t)=>{let[a]=e,[n]=t;return a.localeCompare(n)})),G="DataKey",M=()=>{const e=(0,i.bS)("/technologies"),t=(0,i.bS)("/technologies/applications"),a=(0,i.bS)("/technologies/applications/:applicationId"),M=e?void 0:t?L.s:null===a||void 0===a?void 0:a.params.applicationId,N=(0,i.s0)(),[A,K]=(0,n.useState)(""),[z,H]=(0,n.useState)("View"),{applications:U,categoryOptions:V,allApplications:X,allTechnologies:Z}=(0,I.Xv)({applicationId:M}),_=(0,n.useMemo)((()=>U.length>0?Object.entries(U[0].technologyGroups).map((e=>{let[t,a]=e;return Object.keys(a).map((e=>e))})).flatMap((e=>e)):[]),[U]),Q=(0,n.useMemo)((()=>{let e=[{title:"Application",transforms:[C.p],cellTransforms:[]}];if(U.length>0){const t=U[0].technologyGroups[z],a=F(t).map((e=>{let[t,a]=e;return{title:t,transforms:[C.p],cellTransforms:[T.z],data:t}}));e=[...e,...a]}return e}),[z,U]),R=(0,n.useCallback)((e=>Q[e].data),[Q]),{isCellSelected:q,isSomeCellSelected:J,toggleCellSelected:W}=(0,I.QM)({rows:U.map((e=>e.application.id)),columns:_}),{page:Y,sortBy:$,changePage:ee,changeSortBy:te}=(0,I.HL)(),{pageItems:ae,filteredItems:ne}=(0,I.x6)({items:U,currentPage:Y,currentSortBy:$,compareToByColumn:(e,t,a)=>{if(0===a)return e.application.name.localeCompare(t.application.name);if(void 0!==a){const[,n]=F(e.technologyGroups[z])[a-1],[,i]=F(t.technologyGroups[z])[a-1];return n.total-i.total}return 0},filterItem:e=>{let t=!0;return A&&A.trim().length>0&&(t=-1!==e.application.name.toLowerCase().indexOf(A.toLowerCase())),t}}),ie=(e=>{const t=[];return e.forEach((e=>{const a=F(e.technologyGroups[z]),n=Object.keys(a).length,i=a.map((t=>{let[a,n]=t;return{title:n.total,props:{isOpen:q(e.application.id,a)}}}));t.push({[G]:e,isOpen:J(e.application.id,_),cells:[{title:e.application.name},...i]});const l=t.length-1;a.forEach(((e,a)=>{let[i,{total:o,tags:s}]=e;t.push({parent:l,compoundParent:1+a,cells:[{title:(0,B.jsx)("div",{children:(0,B.jsx)(S.X,{"aria-label":"Simple table",variant:"compact",isStriped:!0,children:(0,B.jsxs)(k.p,{children:[Object.entries(s).map(((e,t)=>{let[a,n]=e;return(0,B.jsxs)(P.Tr,{children:[(0,B.jsx)(E.Td,{width:30,dataLabel:"key-".concat(t),children:a}),(0,B.jsx)(E.Td,{dataLabel:"val-".concat(t),children:n})]},t)})),(0,B.jsxs)(P.Tr,{children:[(0,B.jsx)(E.Td,{width:30,dataLabel:"Total",children:(0,B.jsx)("strong",{children:"Total"})}),(0,B.jsx)(E.Td,{width:70,children:(0,B.jsx)("strong",{children:o})})]})]})})}),props:{colSpan:n+1,className:"pf-m-no-padding"}}]})}))})),t})(ae);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(l.NP,{padding:{default:"noPadding"},children:(0,B.jsx)(o.o,{children:(0,B.jsxs)(s.c,{children:[(0,B.jsx)(r.E,{children:"Application:"}),(0,B.jsx)(r.E,{children:(0,B.jsx)(O.wD,{contextKeyFromURL:M,onChange:e=>{N("/technologies/applications/"+e.key)}})})]})})}),(0,B.jsx)(c.i,{}),(0,B.jsx)(l.NP,{variant:l.Dk.light,children:(0,B.jsxs)(p.D,{children:[(0,B.jsx)(d.x,{component:"h1",children:"Technologies"}),(0,B.jsx)(d.x,{component:"small",children:"This report is a statistic of technologies occurrences in the input applications. It shows how the technologies are distributed and is mostly useful when analysing many applications."})]})}),(0,B.jsx)(l.NP,{variant:l.Dk.default,children:(0,B.jsx)(B.Fragment,{children:void 0===M?(0,B.jsx)(h.b,{children:(0,B.jsxs)(g.u,{children:[(0,B.jsx)(u.k,{icon:v.ZP}),(0,B.jsx)(x.D,{headingLevel:"h4",size:"lg",children:"Select an application"}),(0,B.jsx)(m.B,{children:"Select an application whose data you want to get access to."})]})}):(0,B.jsx)(D.un,{hasTopPagination:!0,hasBottomPagination:!0,totalCount:ne.length,onExpand:(e,t,a,n,i,l)=>{const o=(e=>e.DataKey)(i),s=R(a);W(o.application.id,s)},sortBy:$||{index:void 0,defaultDirection:"asc"},onSort:te,currentPage:Y,onPageChange:ee,rows:ie,cells:Q,isLoading:X.isFetching||Z.isFetching,loadingVariant:"skeleton",fetchError:X.isError||Z.isError,filtersApplied:A.trim().length>0,toolbarToggle:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(r.E,{variant:"search-filter",children:(0,B.jsx)(j.M,{value:A,onChange:K,onClear:()=>K("")})}),(0,B.jsx)(y.k,{variant:"filter-group",children:(0,B.jsx)(f.p,{categoryName:"Category",children:(0,B.jsx)(D.GU,{width:250,maxHeight:300,toggleIcon:(0,B.jsx)(w.ZP,{}),variant:b.TM.single,"aria-label":"category","aria-labelledby":"category",placeholderText:"Category",value:V.find((e=>e.value===z)),options:V,onChange:e=>{H(e.value)}})})})]})})})})]})}}}]);