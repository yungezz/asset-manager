{"id":"azure-aws-config-s3-03000","content":"<rule id=\"azure-aws-config-s3-03000\" xmlns=\"http://windup.jboss.org/schema/jboss-ruleset\">\n            <when>\n                <or>\n                    <filecontent filename=\"{*}.properties\" pattern=\"aws.s3\"/>\n\t\t\t\t\t<project>\n                        <artifact artifactId=\"aws-java-sdk-s3\" groupId=\"com.amazonaws\"/>\n                    </project>\n\t\t\t\t\t<javaclass references=\"com.amazonaws.services.s3.{*}\"/>\n                    <project>\n                        <artifact artifactId=\"spring-cloud-aws-starter-s3\" groupId=\"io.awspring.cloud\"/>\n                    </project>\n                    <javaclass references=\"io.awspring.cloud.s3.{*}\"/>\n                </or>\n            </when>\n            <perform>\n                <hint category-id=\"mandatory\" effort=\"3\" title=\"AWS S3 usage found\">\n                    <message>\n                        The application contains AWS S3 usage. Consider using Azure Blob Storage instead.\n\n                        * Provision **Azure Blob Storage**: Create an Azure Blob Storage account in the Azure portal. Choose the appropriate storage tier (Hot, Cool, or Archive) based on your application's data access patterns and cost considerations.\n\n                        * **Update application code**: Modify the Java application's code to replace AWS SDK calls with the equivalent Azure Storage SDK calls for Azure Blob Storage. Update the code to authenticate and interact with Azure Blob Storage using the Azure SDK for Java.\n\n                        * **Map S3 functionality** to Azure Blob Storage: Understand the differences between AWS S3 and Azure Blob Storage, and adjust your application logic accordingly. Map S3 concepts (buckets, objects, permissions, etc.) to their Azure Blob Storage equivalents (containers, blobs, shared access signatures, etc.).\n\n                        * **Migrate data** from S3 to Azure Blob Storage: Plan and execute the migration of your data from AWS S3 to Azure Blob Storage. You can use Azure Storage Data Transfer Tool, AzCopy, or other migration tools to copy the data from S3 buckets to Azure Blob Storage containers.\n\n                        * Update **access permissions**: Adjust the access permissions and policies in Azure Blob Storage to match your application's requirements. Azure provides various options for controlling access, including shared access signatures (SAS), Azure AD authentication, and role-based access control (RBAC).\n\n                        * Validate functionality and **performance**: Thoroughly test the updated application to ensure that it can read from and write to Azure Blob Storage correctly. Validate the performance of data transfer and any other operations to ensure they meet your application's requirements.\n                    </message>\n                    <link href=\"https://learn.microsoft.com/azure/storage/blobs\" title=\"Azure Blob Storage documentation\"/>\n                    <link href=\"https://learn.microsoft.com/azure/storage/blobs/storage-quickstart-blobs-java\" title=\"Quickstart: Azure Blob Storage client library for Java\"/>\n                    <link href=\"https://azure.microsoft.com/blog/move-your-data-from-aws-s3-to-azure-storage-using-azcopy\" title=\"Move your data from AWS S3 to Azure Storage using AzCopy\"/>\n                    <tag>storage</tag>\n                </hint>\n            </perform>                       \n        </rule>"}